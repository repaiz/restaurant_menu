<TopScreen>:
    id:top
    BoxLayout:
        orientation:"vertical"
        padding:20,20,20,50

        Label:
            size_hint_y:0.1
            font_size:70
            text:"人数を入力してください"

        Label:
            id:text_box
            font_size:100
            multiline:False
            size_hint_y:0.3

        GridLayout:

            cols: 3
            padding:100,100,100,100
            size_hint_x:0.6
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

            Button:
                id:b1
                text: "1"
                on_press:root.push_number(b1)
            Button:
                id:b2
                text: "2"
                on_press:root.push_number(b2)
            Button:
                id:b3
                text: "3"
                on_press:root.push_number(b3)
            Button:
                id:b4
                text: "4"
                on_press:root.push_number(b4)
            Button:
                id:b5
                text: "5"
                on_press:root.push_number(b5)
            Button:
                id:b6
                text: "6"
                on_press:root.push_number(b6)
            Button:
                id:b7
                text: "7"
                on_press:root.push_number(b7)
            Button:
                id:b8
                text: "8"
                on_press:root.push_number(b8)
            Button:
                id:b9
                text: "9"
                on_press:root.push_number(b9)
            Label:
                text: ""
            Label:
                text: ""

            Button:
                id:bx
                text: "×"
                on_press:root.delete_number()

        Button:
            text:"確定"
            size_hint_x:0.3
            size_hint_y:0.2
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_press:root.confirm_button()

<MainScreen>:
    id:main
    BoxLayout:
        orientation: "vertical"
        TabbedPanel:
            back_ground_color:100,100,100
            id: tabbed_panel
            do_default_tab: False
            tab_pos: "top_mid"

            # パネル1
            TabbedPanelItem:
                id:1
                text: "前菜"

                GridLayout:
                    cols:3
                    padding:30,30,30,30
                    MyButton:
                        id:ap1
                        source:"100001.jpeg"
                        on_press:root.current_change("100001")
                    MyButton:
                        id:ap2
                        source:"100002.jpeg"
                        on_press:root.current_change("100002")
                    MyButton:
                        id:ap3
                        source:"100003.jpeg"
                        on_press:root.current_change("100003")
                    MyButton:
                        id:ap4
                        source:"100004.jpeg"
                        on_press:root.current_change("100004")
                    MyButton:
                        id:ap5
                        source:"100005.jpeg"
                        on_press:root.current_change("100005")
                    MyButton:
                        id:ap6
                        source:"100006.jpeg"
                        on_press:root.current_change("100006")

            # パネル2
            TabbedPanelItem:
                id:2
                text: "パスタ"

                GridLayout:
                    cols:3
                    MyButton:
                        id:ap1
                        source:"200001.jpeg"
                        on_press:root.current_change("200001")
                    MyButton:
                        id:ap2
                        source:"200002.jpeg"
                        on_press:root.current_change("200002")
                    MyButton:
                        id:ap3
                        source:"200003.jpeg"
                        on_press:root.current_change("200003")
                    MyButton:
                        id:ap4
                        source:"200004.jpeg"
                        on_press:root.current_change("200004")
                    MyButton:
                        id:ap5
                        source:"200005.jpeg"
                        on_press:root.current_change("200005")
                    MyButton:
                        id:ap6
                        source:"200006.jpeg"
                        on_press:root.current_change("200006")

            # パネル3
            TabbedPanelItem:
                text: "ピザ"
                Label:
                    text: "This is Panel 3"

            # パネル4
            TabbedPanelItem:
                text: "肉料理"
                Label:
                    text: "This is Panel 4"

            # パネル5
            TabbedPanelItem:
                text: "デザート"
                Label:
                    text: "This is Panel 5"

            # パネル6
            TabbedPanelItem:
                text: "ドリンク"
                Label:
                    text: "This is Panel 6"

        FooterLayout:
            size_hint_y:0.1

<DetailScreen>:
    id:detail
    canvas:
        Rectangle:
            source: "back.jpeg"
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation:"vertical"
        size_hint:0.9,0.9
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

        Label:#商品名
            text:root.name
            size_hint_y:0.1
            font_size:100

        BoxLayout:
            Image:
                source:root.source
            BoxLayout:
                orientation:"vertical"
                size_hint:0.3,0.7
                pos_hint:{"center_x": 0.5, "center_y": 0.5}

                BoxLayout:#金額を表記するボックス
                    canvas.before:
                        Color:
                            rgba:0,0,0,1
                        Rectangle:
                            pos:self.pos
                            size:self.size
                    Label:
                        text:root.price
                        font_size:80

                BoxLayout:#数量を操作するボックス
                    Button:
                        text:"-"
                        on_press:root.plus_amount(-1)
                    Label:
                        text:"1"
                        id:amount
                    Button:
                        text:"+"
                        on_press:root.plus_amount(1)

                Button:
                    text:"カートに追加"
                    on_press:root.add_cart()

        FooterLayout:
            size_hint_y:0.1

<CartScreen>:
    id:cart
    canvas:
        Rectangle:
            source: "back.jpeg"
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation:"vertical"

        BoxLayout:#scroll
            id:scroll

        BoxLayout:#結果表示
            pos_hint:{"center_x": 0.5, "center_y": 0.5}
            size_hint:1,0.2
            canvas:
                Color:
                    rgba:0,0,0,1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                text:"合計金額"
            Label:
                id:cart_total_price
            Button:
                text:"確定"
                on_press:root.order_comfirm()

        FooterLayout:#footer
            size_hint_y:0.1

<ComfirmScreen>:
    BoxLayout:
        size_hint:0.8,0.8
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation:"vertical"
        Label:
            text:"注文が確定しました"
        Button:
            text:"戻る"
            on_press:root.current_main()

<OrderLogScreen>:
    BoxLayout:
        orientation:"vertical"
        BoxLayout:
            id:order
        Label:
            id:order_total_price
            size_hint_y:0.2
            font_size:80
        FooterLayout:
            size_hint_y:0.1

<CallWaiterScreen>:
    BoxLayout:
        orientation:"vertical"
        Label:
            text:"係のものが伺います\n少々お待ちください"
            font_size:100
        FooterLayout:
            size_hint_y:0.1

<CheckoutScreen>:
    BoxLayout:
        orientation:"vertical"
        Label:
            text:"お会計は"
        Label:
            id:comfirm_total_price
            font_size:100
        Label:
            text:"そのままレジへお進みください"
        Button:
            text:"戻る"
            on_press:root.reset()


